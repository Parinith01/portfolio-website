[dotenv@17.2.3] injecting env (14) from .env -- tip: Γ£à audit secrets and track compliance: https://dotenvx.com/ops
D:\Neon-Geometry\Neon-Geometry\dist\index.cjs:1
"use strict";var Te=Object.create;var _=Object.defineProperty;var $e=Object.getOwnPropertyDescriptor;var Oe=Object.getOwnPropertyNames;var Le=Object.getPrototypeOf,qe=Object.prototype.hasOwnProperty;var g=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ce=(e,t)=>{for(var r in t)_(e,r,{get:t[r],enumerable:!0})},Ue=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Oe(t))!qe.call(e,n)&&n!==r&&_(e,n,{get:()=>t[n],enumerable:!(s=$e(t,n))||s.enumerable});return e};var o=(e,t,r)=>(r=e!=null?Te(Le(e)):{},Ue(t||!e||!e.__esModule?_(r,"default",{value:e,enumerable:!0}):r,e));function de(){return{name:"vite-plugin-meta-images",transformIndexHtml(e){let t=Je();if(!t)return S("[meta-images] no Replit deployment domain found, skipping meta tag updates"),e;let r=v.default.resolve(process.cwd(),"client","public"),s=v.default.join(r,"opengraph.png"),n=v.default.join(r,"opengraph.jpg"),a=v.default.join(r,"opengraph.jpeg"),c=null;if(R.default.existsSync(s)?c="png":R.default.existsSync(n)?c="jpg":R.default.existsSync(a)&&(c="jpeg"),!c)return S("[meta-images] OpenGraph image not found, skipping meta tag updates"),e;let p=`${t}/opengraph.${c}`;return S("[meta-images] updating meta image tags to:",p),e=e.replace(/<meta\s+property="og:image"\s+content="[^"]*"\s*\/>/g,`<meta property="og:image" content="${p}" />`),e=e.replace(/<meta\s+name="twitter:image"\s+content="[^"]*"\s*\/>/g,`<meta name="twitter:image" content="${p}" />`),e}}}function Je(){if(process.env.REPLIT_INTERNAL_APP_DOMAIN){let e=`https://${process.env.REPLIT_INTERNAL_APP_DOMAIN}`;return S("[meta-images] using internal app domain:",e),e}if(process.env.REPLIT_DEV_DOMAIN){let e=`https://${process.env.REPLIT_DEV_DOMAIN}`;return S("[meta-images] using dev domain:",e),e}return null}function S(...e){console.log(...e)}var R,v,fe=g(()=>{"use strict";R=o(require("fs"),1),v=o(require("path"),1)});var ge,he,ye,l,x,ve,Se=g(()=>{"use strict";ge=require("vite"),he=o(require("@vitejs/plugin-react"),1),ye=o(require("@tailwindcss/vite"),1),l=o(require("path"),1);fe();x={},ve=(0,ge.defineConfig)({plugins:[(0,he.default)(),(0,ye.default)(),de()],resolve:{alias:{"@":l.default.resolve(x.dirname,"client","src"),"@shared":l.default.resolve(x.dirname,"shared"),"@assets":l.default.resolve(x.dirname,"attached_assets")}},css:{postcss:{plugins:[]}},root:l.default.resolve(x.dirname,"client"),build:{outDir:l.default.resolve(x.dirname,"dist/public"),emptyOutDir:!0},server:{host:"0.0.0.0",allowedHosts:!0,fs:{strict:!0,deny:["**/.*"]}}})});var xe,we=g(()=>{xe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"});var O,ze,u,d,He,je,Re=g(()=>{O=o(require("crypto"),1);we();ze=128,He=e=>{!u||u.length<e?(u=Buffer.allocUnsafe(e*ze),O.default.randomFillSync(u),d=0):d+e>u.length&&(O.default.randomFillSync(u),d=0),d+=e},je=(e=21)=>{He(e|=0);let t="";for(let r=d-e;r<d;r++)t+=xe[u[r]&63];return t}});var Ie={};Ce(Ie,{setupVite:()=>We});async function We(e,t){let r={middlewareMode:!0,hmr:{server:e,path:"/vite-hmr"},allowedHosts:!0},s=await(0,E.createServer)({...ve,configFile:!1,customLogger:{...Ee,error:(n,a)=>{Ee.error(n,a),process.exit(1)}},server:r,appType:"custom"});t.use(s.middlewares),t.use("/{*path}",async(n,a,c)=>{let p=n.originalUrl;try{let m=_e.default.resolve(Ge.dirname,"..","client","index.html"),f=await Pe.default.promises.readFile(m,"utf-8");f=f.replace('src="/src/main.tsx"',`src="/src/main.tsx?v=${je()}"`);let Ne=await s.transformIndexHtml(p,f);a.status(200).set({"Content-Type":"text/html"}).end(Ne)}catch(m){s.ssrFixStacktrace(m),c(m)}})}var E,Pe,_e,Ge,Ee,be=g(()=>{"use strict";E=require("vite");Se();Pe=o(require("fs"),1),_e=o(require("path"),1);Re();Ge={},Ee=(0,E.createLogger)()});var P=o(require("express"),1);var L=require("http");function q(e){return(0,L.createServer)(e)}var C=o(require("express"),1),U=o(require("fs"),1),I=o(require("path"),1);function k(e){let t=I.default.resolve(__dirname,"public");if(!U.default.existsSync(t))throw new Error(`Could not find the build directory: ${t}, make sure to build the client first`);e.use(C.default.static(t)),e.use("/{*path}",(r,s)=>{s.sendFile(I.default.resolve(t,"index.html"))})}var Ae=o(require("dotenv"),1),De=o(require("cors"),1);var F=o(require("mongoose"),1),ke=async()=>{try{let e=await F.default.connect(process.env.MONGO_URI||"mongodb://localhost:27017/portfolio_db",{serverSelectionTimeoutMS:5e3});return console.log(`MongoDB Connected: ${e.connection.host}`),!0}catch(e){return console.error(`Error: ${e.message}`),console.warn("MongoDB Connection Failed. The app will run without database features."),!1}},B=ke;var J=o(require("express"),1),z=o(require("jsonwebtoken"),1),H=o(require("bcryptjs"),1);var A=o(require("mongoose"),1),b=o(require("bcryptjs"),1),V=new A.default.Schema({username:{type:String,required:!0,unique:!0},password:{type:String,required:!0}},{timestamps:!0});V.pre("save",async function(e){if(!this.isModified("password"))return e();try{let t=await b.default.genSalt(10);this.password=await b.default.hash(this.password,t),e()}catch(t){e(t)}});var w=A.default.model("User",V);var D=J.default.Router();D.post("/login",async(e,t)=>{let{username:r,password:s}=e.body,n=await w.findOne({username:r});if(n&&await H.default.compare(s,n.password)){let a=z.default.sign({id:n._id},process.env.JWT_SECRET||"secret",{expiresIn:"30d"});t.json({token:a})}else t.status(401).json({message:"Invalid credentials"})});D.post("/seed",async(e,t)=>{let{username:r,password:s}=e.body;if(await w.findOne({username:r}))return t.status(400).json({message:"User already exists"});let a=await w.create({username:r,password:s});t.json({message:"User created"})});var W=D;var Z=o(require("express"),1);var M=o(require("mongoose"),1),Fe=new M.default.Schema({title:{type:String,required:!0},description:{type:String,required:!0},tags:[String],link:{type:String},image:{type:String}},{timestamps:!0}),h=M.default.model("Project",Fe);var G=o(require("jsonwebtoken"),1),j=(e,t,r)=>{let s;if(e.headers.authorization&&e.headers.authorization.startsWith("Bearer"))try{s=e.headers.authorization.split(" ")[1];let n=G.default.verify(s,process.env.JWT_SECRET||"secret");e.user=n,r()}catch{t.status(401).json({message:"Not authorized, token failed"})}s||t.status(401).json({message:"Not authorized, no token"})};var y=Z.default.Router();y.get("/",async(e,t)=>{try{let r=await h.find();t.json(r)}catch{t.status(500).json({message:"Server error"})}});y.post("/",j,async(e,t)=>{try{let r=await h.create(e.body);t.status(201).json(r)}catch{t.status(500).json({message:"Server error"})}});y.put("/:id",j,async(e,t)=>{try{let r=await h.findByIdAndUpdate(e.params.id,e.body,{new:!0});t.json(r)}catch{t.status(500).json({message:"Server error"})}});y.delete("/:id",j,async(e,t)=>{try{await h.findByIdAndDelete(e.params.id),t.json({message:"Project removed"})}catch{t.status(500).json({message:"Server error"})}});var K=y;var X=o(require("express"),1),Y=o(require("nodemailer"),1),ee=o(require("mongoose"),1);var N=o(require("mongoose"),1),Be=new N.default.Schema({name:{type:String,required:!0},email:{type:String,required:!0},subject:{type:String,required:!1,default:"New Portfolio Inquiry"},message:{type:String,required:!0}},{timestamps:!0}),Q=N.default.model("Contact",Be);var te=X.default.Router();te.post("/",async(e,t)=>{let{name:r,email:s,subject:n="New Portfolio Inquiry",message:a}=e.body;if(ee.default.connection.readyState!==1)return t.status(503).json({message:"Database functionality is unavailable (MongoDB not running)."});try{let c=await Q.create({name:r,email:s,subject:n,message:a}),p=Y.default.createTransport({service:"gmail",auth:{user:process.env.EMAIL_USER,pass:process.env.EMAIL_PASS}}),m={from:s,to:process.env.EMAIL_USER,subject:`Portfolio Contact: ${n}`,text:`Name: ${r}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            

TypeError: (0 , ye.default) is not a function
    at D:\Neon-Geometry\Neon-Geometry\dist\index.cjs:1:2101
    at D:\Neon-Geometry\Neon-Geometry\dist\index.cjs:1:224
    at D:\Neon-Geometry\Neon-Geometry\dist\index.cjs:1:3592
    at D:\Neon-Geometry\Neon-Geometry\dist\index.cjs:1:224
    at D:\Neon-Geometry\Neon-Geometry\dist\index.cjs:3:2399
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async D:\Neon-Geometry\Neon-Geometry\dist\index.cjs:3:2365

Node.js v25.0.0
